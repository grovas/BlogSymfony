{% extends 'base.html.twig' %}

{% block body %}
	<a href="{{ path('post_newpost_index') }}">Nowy wpis</a><br/>
	<a href="{{ path('user_edit') }}">Edycja danych blogera</a><br/>

{# TODO: dlaczego wyswietla nawias prawo skosny#}
	<table class="table">
		<tbody>
			<tr>
				<th>Numer </th>
				<th>Data utworzenia </th>
				<th>Tytuł </th>
				<th>Post</th>
				<th>Załącznik</th>
				<th>User</th>
			</tr>
			{#{{ dump(posts.getId()) }}#}
			{#{{ dump(user.getUsername) }}#}
			{#{{ dump(posts) }}#}
			{% for post in posts %}
				<tr>
					<td>
						{{ post.id }}
					</td>
					<td>
						{{ post.date|date('Y-m-d') }}
					</td>
					<td>
						<a href="{{ path('post_viewpost_index', {'id': post.id}) }}">
						{{ post.title }}
						</a>
					</td>
					<td>
						{{ post.body }}
					</td>
					<td>
						<a href="{{ asset('uploads/attachments/' ~ post.attachment) }}">
							{{ post.attaOriginName }}</a>
						<a href="">Usuń załącznik</a>
					</td>>
					<td>
						{{ user.getUsername }}
					</td>
					<td>
						<a href="{{ path('post_editpost_index', {'id': post.id}) }}">
							Edycja posta
						</a>
					</td>
					<td>
						<a href="{{ path('post_deletepost_index', {'id': post.id}) }}">
							Usunięcie posta
						</a>
					</td>

				</tr>
			{% endfor %}
		</tbody>
	</table>
{% endblock %}